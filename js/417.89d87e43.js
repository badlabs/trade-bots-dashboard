"use strict";(self["webpackChunktrade_bots_dashboard"]=self["webpackChunktrade_bots_dashboard"]||[]).push([[417],{4417:(t,n,o)=>{o.r(n),o.d(n,{default:()=>N});var e=o(9835),l=o(6970),i=o(1957);const s={class:"q-pa-md"},a={class:"row justify-between"},r=(0,e.Uk)("Robot "),u=(0,e.Uk)(" : Algorithm "),d={class:"row q-mx-md"},c={class:"q-mr-lg",style:{"min-width":"200px"}},m=(0,e._)("span",{class:"text-h6"},"Description",-1),p=(0,e._)("span",{class:"text-h6"},"Input Types",-1),h={class:"full-height"},g=(0,e._)("div",{class:"text-h6"},"Inputs",-1),w={class:"full-height"},b=(0,e._)("div",{class:"text-h6"},"State",-1);function f(t,n,o,f,_,y){const v=(0,e.up)("q-breadcrumbs-el"),k=(0,e.up)("q-breadcrumbs"),W=(0,e.up)("q-th"),q=(0,e.up)("q-tr"),x=(0,e.up)("q-btn"),R=(0,e.up)("q-td"),A=(0,e.up)("q-spinner-ball"),z=(0,e.up)("q-inner-loading"),Z=(0,e.up)("q-table");return(0,e.wg)(),(0,e.iD)("div",s,[(0,e.Wm)(k,{class:"q-ma-md"},{default:(0,e.w5)((()=>[(0,e.Wm)(v,{label:"Home",icon:"home",to:"/"}),(0,e.Wm)(v,{label:"Robots",icon:"widgets",to:"/robots"}),(0,e.Wm)(v,{label:t.robot.name,icon:"precision_manufacturing",to:`/robots/${t.robot.name}`},null,8,["label","to"]),(0,e.Wm)(v,{label:"Algorithms",icon:"format_list_numbered"}),(0,e.Wm)(v,{label:t.algorithm.name,icon:"playlist_play",class:"text-primary"},null,8,["label"])])),_:1}),(0,e._)("div",a,[(0,e._)("h4",null,[r,(0,e._)("code",null,(0,l.zw)(t.robot.name),1),u,(0,e._)("code",null,(0,l.zw)(t.algorithm.name),1)])]),(0,e._)("section",d,[(0,e._)("div",c,[m,((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.algorithm.description.split("\n"),((t,n)=>((0,e.wg)(),(0,e.iD)("p",{key:n},(0,l.zw)(t),1)))),128))]),(0,e._)("div",null,[p,(0,e._)("pre",null,(0,l.zw)(JSON.stringify(JSON.parse(t.algorithm.input_types),null,2)),1)])]),(0,e._)("section",null,[(0,e.Wm)(Z,{rows:t.algorithmRuns,columns:t.columns,"row-key":"id",loading:t.loading},{header:(0,e.w5)((t=>[(0,e.Wm)(q,{props:t},{default:(0,e.w5)((()=>[(0,e.Wm)(W,{"auto-width":""}),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.cols,(n=>((0,e.wg)(),(0,e.j4)(W,{key:n.name,props:t},{default:(0,e.w5)((()=>[(0,e.Uk)((0,l.zw)(n.label),1)])),_:2},1032,["props"])))),128)),(0,e.Wm)(W,{"auto-width":""})])),_:2},1032,["props"])])),body:(0,e.w5)((n=>[(0,e.Wm)(q,{props:n},{default:(0,e.w5)((()=>[(0,e.Wm)(R,{"auto-width":""},{default:(0,e.w5)((()=>[(0,e.Wm)(x,{size:"sm",color:"accent",round:"",dense:"",onClick:t=>n.expand=!n.expand,icon:n.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.cols,(t=>((0,e.wg)(),(0,e.j4)(R,{key:t.name,props:n},{default:(0,e.w5)((()=>[(0,e.Uk)((0,l.zw)(t.value),1)])),_:2},1032,["props"])))),128)),(0,e.Wm)(R,{"auto-width":""},{default:(0,e.w5)((()=>["stopped"===n.row.status?((0,e.wg)(),(0,e.j4)(x,{key:0,size:"sm",color:"positive",dense:"",onClick:o=>t.continueAlgo(n.row,n),label:"Continue"},null,8,["onClick"])):(0,e.kq)("",!0),"running"===n.row.status||"continued"===n.row.status?((0,e.wg)(),(0,e.j4)(x,{key:1,size:"sm",color:"negative",dense:"",onClick:o=>t.stopAlgo(n.row,n),label:"Stop"},null,8,["onClick"])):(0,e.kq)("",!0)])),_:2},1024),(0,e.Wm)(z,{showing:n.loading},{default:(0,e.w5)((()=>[(0,e.Wm)(A,{size:"1em",color:"primary"})])),_:2},1032,["showing"])])),_:2},1032,["props"]),(0,e.wy)((0,e.Wm)(q,{props:n},{default:(0,e.w5)((()=>[(0,e.Wm)(R,{colspan:"3",class:"content-start"},{default:(0,e.w5)((()=>[(0,e._)("div",h,[g,(0,e._)("pre",null,(0,l.zw)(JSON.stringify(JSON.parse(n.row.inputs),null,2)),1)])])),_:2},1024),(0,e.Wm)(R,{colspan:"3"},{default:(0,e.w5)((()=>[(0,e._)("div",w,[b,(0,e._)("pre",null,(0,l.zw)(JSON.stringify(JSON.parse(n.row.state),null,2)),1)])])),_:2},1024)])),_:2},1032,["props"]),[[i.F8,n.expand]])])),_:1},8,["rows","columns","loading"])])])}var _=o(6860),y=o(7363),v=o(1291),k=function(t,n,o,e){function l(t){return t instanceof o?t:new o((function(n){n(t)}))}return new(o||(o=Promise))((function(o,i){function s(t){try{r(e.next(t))}catch(n){i(n)}}function a(t){try{r(e["throw"](t))}catch(n){i(n)}}function r(t){t.done?o(t.value):l(t.value).then(s,a)}r((e=e.apply(t,n||[])).next())}))};const W=(0,e.aZ)({name:"AlgorithmScreen",data(){return{algorithmRuns:[],loading:!1,columns:[{name:"id",sortable:!0,label:"id",field:t=>t.id},{name:"status",label:"status",field:t=>t.status},{name:"updated",sortable:!0,sortOrder:"da",label:"updated",field:t=>t.updated_at},{name:"started",sortable:!0,sortOrder:"da",label:"started",field:t=>t.created_at}]}},mixins:[_.yY,_.IR],methods:Object.assign(Object.assign({},(0,y.nv)(v.R,["getAlgorithmRuns","stopAlgorithm","continueAlgorithm"])),{fetch(){return k(this,void 0,void 0,(function*(){this.loading=!0;try{this.algorithmRuns=yield this.getAlgorithmRuns(this.robot,this.algorithm.name)}catch(t){this.algorithmRuns=[]}this.loading=!1}))},stopAlgo(t,n){return k(this,void 0,void 0,(function*(){n.loading=!0;try{const n=yield this.stopAlgorithm(this.robot,t.algorithm_name,t.id);this.updateRun(n)}catch(o){}n.loading=!1}))},continueAlgo(t,n){return k(this,void 0,void 0,(function*(){n.loading=!0;try{const n=yield this.continueAlgorithm(this.robot,t.algorithm_name,t.id);this.updateRun(n)}catch(o){}n.loading=!1}))},updateRun(t){const n=this.algorithmRuns.findIndex((n=>n.id===t.id));n>-1&&(this.algorithmRuns[n]=t)}}),mounted(){return k(this,void 0,void 0,(function*(){yield this.fetch()}))}});var q=o(1639),x=o(2605),R=o(8052),A=o(3066),z=o(9546),Z=o(1682),O=o(7220),S=o(8879),C=o(854),Q=o(5304),j=o(9984),D=o.n(j);const J=(0,q.Z)(W,[["render",f]]),N=J;D()(W,"components",{QBreadcrumbs:x.Z,QBreadcrumbsEl:R.Z,QTable:A.Z,QTr:z.Z,QTh:Z.Z,QTd:O.Z,QBtn:S.Z,QInnerLoading:C.Z,QSpinnerBall:Q.Z})}}]);