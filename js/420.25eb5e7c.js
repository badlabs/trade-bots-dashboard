"use strict";(self["webpackChunktrade_bots_dashboard"]=self["webpackChunktrade_bots_dashboard"]||[]).push([[420],{4420:(t,o,e)=>{e.r(o),e.d(o,{default:()=>nt});var n=e(9835);const a={class:"q-pa-md"},l={class:"q-gutter-sm"},r={class:"row justify-between"},s=(0,n._)("h4",null,"List of Robots",-1);function i(t,o,e,i,u,c){const d=(0,n.up)("q-btn"),m=(0,n.up)("ConnectRobotModal"),p=(0,n.up)("RobotSkeleton"),b=(0,n.up)("RobotTile");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,[(0,n.Wm)(d,{color:"primary",to:"/",label:"< Main"})]),(0,n._)("div",r,[s,(0,n._)("div",null,[(0,n.Wm)(m,{onAddRobot:o[0]||(o[0]=o=>t.showSkeleton=!0),onRobotAdded:o[1]||(o[1]=o=>t.showSkeleton=!1)})])]),t.showSkeleton?((0,n.wg)(),(0,n.j4)(p,{key:0,class:"q-my-sm q-mx-auto"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.robots,((t,o)=>((0,n.wg)(),(0,n.j4)(b,{key:o,robot:t,class:"q-my-sm"},null,8,["robot"])))),128))])}var u=e(1957);const c=(0,n.Uk)("Connect"),d=(0,n.Uk)(" Check "),m=(0,n.Uk)("Cancel");function p(t,o,e,a,l,r){const s=(0,n.up)("q-input"),i=(0,n.up)("q-card-section"),p=(0,n.up)("q-btn"),b=(0,n.up)("q-card-actions"),h=(0,n.up)("q-form"),f=(0,n.up)("q-card"),w=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(w,{modelValue:t.show,"onUpdate:modelValue":o[5]||(o[5]=o=>t.show=o),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"min-width":"400px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{onSubmit:(0,u.iM)(t.checkRobot,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:t.robotOptions.name,"onUpdate:modelValue":o[0]||(o[0]=o=>t.robotOptions.name=o),label:"Name*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:t.robotOptions.host,"onUpdate:modelValue":o[1]||(o[1]=o=>t.robotOptions.host=o),label:"Host*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:t.robotOptions.port,"onUpdate:modelValue":o[2]||(o[2]=o=>t.robotOptions.port=o),type:"number",label:"Port*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:t.robotOptions.token,"onUpdate:modelValue":o[3]||(o[3]=o=>t.robotOptions.token=o),label:"Token"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(b,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{color:"primary",onClick:t.connectRobot,disable:"success"!==t.checkStatus},{default:(0,n.w5)((()=>[c])),_:1},8,["onClick","disable"]),(0,n.Wm)(p,{color:"success"===t.checkStatus?"green":"error"===t.checkStatus?"red":"primary",type:"submit",loading:t.loading},{default:(0,n.w5)((()=>[d])),_:1},8,["color","loading"]),(0,n.Wm)(p,{color:"red",onClick:o[4]||(o[4]=o=>t.show=!t.show)},{default:(0,n.w5)((()=>[m])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(p,{onClick:o[6]||(o[6]=o=>t.show=!t.show),round:"",color:"primary",icon:"add"})],64)}var b=e(1623),h=function(t,o,e,n){function a(t){return t instanceof e?t:new e((function(o){o(t)}))}return new(e||(e=Promise))((function(e,l){function r(t){try{i(n.next(t))}catch(o){l(o)}}function s(t){try{i(n["throw"](t))}catch(o){l(o)}}function i(t){t.done?e(t.value):a(t.value).then(r,s)}i((n=n.apply(t,o||[])).next())}))};const f=(0,n.aZ)({name:"ConnectRobotModal",setup(){return{store:(0,b.V)()}},data(){return{show:!1,loading:!1,checkStatus:null,robotOptions:{name:"",host:"localhost",token:"",port:4268}}},methods:{checkRobot(){return h(this,void 0,void 0,(function*(){this.loading=!0,(yield this.store.checkRobotAuth(this.robotOptions))?this.checkStatus="success":this.checkStatus="error",this.loading=!1}))},connectRobot(){this.$emit("addRobot"),this.store.addRobot(this.robotOptions).finally((()=>this.$emit("robotAdded"))),this.robotOptions={name:"",host:"localhost",token:"",port:4268},this.checkStatus=null,this.show=!1}}});var w=e(1639),k=e(7743),g=e(4458),W=e(8326),v=e(3190),_=e(6611),y=e(1821),q=e(4455),Z=e(9984),R=e.n(Z);const S=(0,w.Z)(f,[["render",p]]),Q=S;R()(f,"components",{QDialog:k.Z,QCard:g.Z,QForm:W.Z,QCardSection:v.Z,QInput:_.Z,QCardActions:y.Z,QBtn:q.Z});var C=e(6970);const V={class:"row justify-between"},x={class:"text-h6"},O=(0,n.Uk)(),U=(0,n.Uk)("active"),A=(0,n.Uk)(" More ");function j(t,o,e,a,l,r){const s=(0,n.up)("RobotAvatar"),i=(0,n.up)("q-chip"),u=(0,n.up)("q-card-section"),c=(0,n.up)("RobotLogs"),d=(0,n.up)("q-btn"),m=(0,n.up)("q-card-actions"),p=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(p,{style:{"max-width":"600px"},class:"q-mx-auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n._)("div",V,[(0,n._)("div",x,[(0,n.Wm)(s,{name:t.robot.name},null,8,["name"]),O,(0,n._)("code",null,(0,C.zw)(t.robot.name),1)]),(0,n.Wm)(i,{dense:"",dark:"",color:"blue"},{default:(0,n.w5)((()=>[U])),_:1})])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-","single-line":"",robot:t.robot},null,8,["robot"])])),_:1}),(0,n.Wm)(m,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{color:"blue",dark:"",to:`/robots/${t.robot.name}`},{default:(0,n.w5)((()=>[A])),_:1},8,["to"])])),_:1})])),_:1})}var P=e(3260),L=e(7363),M=e(1354),I=e(3043),B=e(6194),D=e(4022),T=function(t,o,e,n){function a(t){return t instanceof e?t:new e((function(o){o(t)}))}return new(e||(e=Promise))((function(e,l){function r(t){try{i(n.next(t))}catch(o){l(o)}}function s(t){try{i(n["throw"](t))}catch(o){l(o)}}function i(t){t.done?e(t.value):a(t.value).then(r,s)}i((n=n.apply(t,o||[])).next())}))};const H=(0,n.aZ)({name:"RobotTile",components:{RobotLogs:D.Z,RobotAvatar:B.Z},props:{robot:{type:P.n,required:!0}},data(){return{portfolio:[]}},computed:{},methods:Object.assign(Object.assign({},(0,L.nv)(I.a,["getPortfolio"])),(0,L.nv)(M.R,["getSecurities"])),watch:{robot(t){return T(this,void 0,void 0,(function*(){this.portfolio=yield this.getPortfolio(t)}))}},created(){return T(this,void 0,void 0,(function*(){yield this.getSecurities(this.robot),this.portfolio=yield this.getPortfolio(this.robot)}))}});var $=e(7691),Y=e(3115);const z=(0,w.Z)(H,[["render",j]]),F=z;function K(t,o,e,a,l,r){const s=(0,n.up)("q-skeleton"),i=(0,n.up)("q-item-section"),u=(0,n.up)("q-item-label"),c=(0,n.up)("q-item"),d=(0,n.up)("q-card-actions"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(m,{style:{"max-width":"300px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"QAvatar"})])),_:1}),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"text"})])),_:1}),(0,n.Wm)(u,{caption:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"text"})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(s,{height:"200px",square:""}),(0,n.Wm)(d,{align:"right",class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"QBtn"})])),_:1})])),_:1})}R()(H,"components",{QCard:g.Z,QCardSection:v.Z,QChip:$.Z,QItemLabel:Y.Z,QCardActions:y.Z,QBtn:q.Z});const N={name:"RoborSkeleton"};var E=e(490),G=e(1233),J=e(7133);const X=(0,w.Z)(N,[["render",K]]),tt=X;R()(N,"components",{QCard:g.Z,QItem:E.Z,QItemSection:G.Z,QSkeleton:J.ZP,QItemLabel:Y.Z,QCardActions:y.Z});const ot=(0,n.aZ)({name:"RobotsListScreen",data(){return{showSkeleton:!1}},computed:Object.assign({},(0,L.rn)(b.V,["robots"])),components:{ConnectRobotModal:Q,RobotTile:F,RobotSkeleton:tt}}),et=(0,w.Z)(ot,[["render",i]]),nt=et;R()(ot,"components",{QBtn:q.Z})}}]);