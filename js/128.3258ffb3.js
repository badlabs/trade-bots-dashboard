"use strict";(self["webpackChunktrade_bots_dashboard"]=self["webpackChunktrade_bots_dashboard"]||[]).push([[128],{9128:(o,t,e)=>{e.r(t),e.d(t,{default:()=>N});var n=e(9835);const r={class:"q-pa-md"},a={class:"q-gutter-sm"},l={class:"row justify-between"},s=(0,n._)("h4",null,"List of Robots",-1);function i(o,t,e,i,c,u){const d=(0,n.up)("q-btn"),h=(0,n.up)("ConnectRobotModal"),m=(0,n.up)("RobotTile");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",a,[(0,n.Wm)(d,{color:"primary",href:"#/",label:"< Main"})]),(0,n._)("div",l,[s,(0,n._)("div",null,[(0,n.Wm)(h)])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.robotsStore.robots,((o,t)=>((0,n.wg)(),(0,n.j4)(m,{key:t,robot:o,class:"q-my-sm"},null,8,["robot"])))),128))])}var c=e(1957);const u=(0,n.Uk)("Connect"),d=(0,n.Uk)(" Check "),h=(0,n.Uk)("Cancel");function m(o,t,e,r,a,l){const s=(0,n.up)("q-input"),i=(0,n.up)("q-card-section"),m=(0,n.up)("q-btn"),p=(0,n.up)("q-card-actions"),b=(0,n.up)("q-form"),f=(0,n.up)("q-card"),w=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(w,{modelValue:o.show,"onUpdate:modelValue":t[5]||(t[5]=t=>o.show=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"min-width":"400px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{onSubmit:(0,c.iM)(o.checkRobot,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:o.robotOptions.name,"onUpdate:modelValue":t[0]||(t[0]=t=>o.robotOptions.name=t),label:"Name*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:o.robotOptions.host,"onUpdate:modelValue":t[1]||(t[1]=t=>o.robotOptions.host=t),label:"Host*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:o.robotOptions.port,"onUpdate:modelValue":t[2]||(t[2]=t=>o.robotOptions.port=t),type:"number",label:"Port*"},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:o.robotOptions.token,"onUpdate:modelValue":t[3]||(t[3]=t=>o.robotOptions.token=t),label:"Token"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(p,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{color:"primary",onClick:o.connectRobot,disable:"success"!==o.checkStatus},{default:(0,n.w5)((()=>[u])),_:1},8,["onClick","disable"]),(0,n.Wm)(m,{color:"success"===o.checkStatus?"green":"error"===o.checkStatus?"red":"primary",type:"submit",loading:o.loading},{default:(0,n.w5)((()=>[d])),_:1},8,["color","loading"]),(0,n.Wm)(m,{color:"red",onClick:t[4]||(t[4]=t=>o.show=!o.show)},{default:(0,n.w5)((()=>[h])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(m,{onClick:t[6]||(t[6]=t=>o.show=!o.show),round:"",color:"primary",icon:"add"})],64)}var p=e(1623),b=function(o,t,e,n){function r(o){return o instanceof e?o:new e((function(t){t(o)}))}return new(e||(e=Promise))((function(e,a){function l(o){try{i(n.next(o))}catch(t){a(t)}}function s(o){try{i(n["throw"](o))}catch(t){a(t)}}function i(o){o.done?e(o.value):r(o.value).then(l,s)}i((n=n.apply(o,t||[])).next())}))};const f=(0,n.aZ)({name:"ConnectRobotModal",setup(){return{store:(0,p.V)()}},data(){return{show:!1,loading:!1,checkStatus:null,robotOptions:{name:"",host:"localhost",token:"",port:4268}}},methods:{checkRobot(){return b(this,void 0,void 0,(function*(){this.loading=!0,(yield this.store.checkRobotAuth(this.robotOptions))?this.checkStatus="success":this.checkStatus="error",this.loading=!1}))},connectRobot(){this.store.addRobot(this.robotOptions),this.robotOptions={name:"",host:"localhost",token:"",port:4268},this.checkStatus=null,this.show=!1}}});var w=e(1639),k=e(7743),g=e(4458),v=e(8326),_=e(3190),y=e(6611),W=e(1821),Z=e(4455),C=e(9984),q=e.n(C);const V=(0,w.Z)(f,[["render",m]]),S=V;q()(f,"components",{QDialog:k.Z,QCard:g.Z,QForm:v.Z,QCardSection:_.Z,QInput:y.Z,QCardActions:W.Z,QBtn:Z.Z});var R=e(6970);const O={class:"row justify-between"},Q={class:"text-h6"},U=(0,n.Uk)("active"),x=(0,n.Uk)(" For logs "),j=(0,n.Uk)(" More ");function M(o,t,e,r,a,l){const s=(0,n.up)("q-chip"),i=(0,n.up)("q-card-section"),c=(0,n.up)("q-btn"),u=(0,n.up)("q-card-actions"),d=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(d,{style:{"max-width":"600px"},class:"q-mx-auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n._)("div",O,[(0,n._)("div",Q,(0,R.zw)(o.robot.name),1),(0,n.Wm)(s,{dense:"",dark:"",color:"blue"},{default:(0,n.w5)((()=>[U])),_:1})])])),_:1}),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[x])),_:1}),(0,n.Wm)(u,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{color:"blue",dark:"",to:`/robot/${o.robot.name}`},{default:(0,n.w5)((()=>[j])),_:1},8,["to"])])),_:1})])),_:1})}var P=e(3260),D=e(7363),T=e(1354),A=e(3043),B=function(o,t,e,n){function r(o){return o instanceof e?o:new e((function(t){t(o)}))}return new(e||(e=Promise))((function(e,a){function l(o){try{i(n.next(o))}catch(t){a(t)}}function s(o){try{i(n["throw"](o))}catch(t){a(t)}}function i(o){o.done?e(o.value):r(o.value).then(l,s)}i((n=n.apply(o,t||[])).next())}))};const H=(0,n.aZ)({name:"RobotTile",props:{robot:{type:P.n,required:!0}},data(){return{portfolio:[]}},computed:{},methods:Object.assign(Object.assign({},(0,D.nv)(A.a,["getPortfolio"])),(0,D.nv)(T.R,["getSecurities"])),watch:{robot(o){return B(this,void 0,void 0,(function*(){this.portfolio=yield this.getPortfolio(o)}))}},created(){return B(this,void 0,void 0,(function*(){yield this.getSecurities(this.robot),this.portfolio=yield this.getPortfolio(this.robot)}))}});var L=e(7691),F=e(3115);const I=(0,w.Z)(H,[["render",M]]),Y=I;q()(H,"components",{QCard:g.Z,QCardSection:_.Z,QChip:L.Z,QItemLabel:F.Z,QCardActions:W.Z,QBtn:Z.Z});const z=(0,n.aZ)({name:"RobotsListScreen",setup(){const o=(0,p.V)();return{robotsStore:o}},components:{ConnectRobotModal:S,RobotTile:Y}}),K=(0,w.Z)(z,[["render",i]]),N=K;q()(z,"components",{QBtn:Z.Z})}}]);